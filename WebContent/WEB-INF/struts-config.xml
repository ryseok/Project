<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>
	<!-- ================================================ Form Bean Definitions -->
	<!-- <form-beans> <form-bean type="액션폼클래스등록" name="폼클래스에 대한 식별 이름정의. 예)joinForm"/> 
		</form-beans> <action-mappings> <action type="액션클래스등록" path="가상경로(.do매핑)" 
		name="joinForm"/> </action-mappings> -->
	<form-beans>
		<!--사용자가 정의한 ActionForm 클래스 등록 -->
		<!--TestActionForm 등록 -->
		<form-bean name="testForm"
			type="com.encore.s0723.forms.TestActionForm" />
		<form-bean name="loginForm"
			type="com.encore.s0723.forms.LoginActionForm" />
		<form-bean name="calcForm"
			type="com.encore.s0724.forms.CalcActionForm" />


	</form-beans>


	<!-- ========================================= Global Exception Definitions -->

	<global-exceptions>
		<!-- sample exception handler <exception key="expired.password" type="app.ExpiredPasswordException" 
			path="/changePassword.jsp"/> end sample -->
	</global-exceptions>


	<!-- =========================================== Global Forward Definitions -->

	<global-forwards>
		<!-- Default forward to "Welcome" action -->
		<!-- Demonstrates using index.jsp to forward -->
		<forward name="welcome" path="/Welcome.do" />
	</global-forwards>


	<!-- =========================================== Action Mapping Definitions -->

	<action-mappings>
		<!-- Default "Welcome" action -->
		<!-- Forwards to Welcome.jsp -->

		<!-- 액션태그 각각은 URL요청을 의미 path속성 : 가상경로를 의미, 주의 : 맨앞에 반드시 "/"위치 예) path="/a/b/c" 
			: struts/a/b/c.do 요청 액션 forward속성 : 위 요청 액션에 대해 실제 이동할 경로 -->

		<!--프로젝트 쇼핑몰 -->
		<!--홈 : 관리자 페이지 -->
		<action path="/admin_main/main_view"
			forward="/admin_main/main_view.jsp">
		</action>


		<!--공지사항 작성 -->
		<action path="/admin_notice/notice"
			forward="/admin_notice/notice_inputForm.jsp">
		</action>

		<!--공지사항 목록 -->
		<action path="/admin_notice/noticeList"
			type="com.funshop.admin.actions.Notice_Action">
			<forward name="list" path="/admin_notice/notice_listForm.jsp"></forward>
			<forward name="insert"
				path="/admin_notice/noticeList.do?action=list" redirect="true"></forward>
		</action>

		<!--공지사항 수정폼 보이기 -->
		<action path="/admin_notice/noticeEdit"
			type="com.funshop.admin.actions.Notice_UpdateFormAction">
			<forward name="editForm"
				path="/admin_notice/notice_editForm.jsp" />
		</action>

		<!--공지사항 수정폼 처리 -->
		<action path="/admin_notice/update"
			type="com.funshop.admin.actions.Notice_UpdateAction">
			<forward name="noticeList"
				path="/admin_notice/noticeList.do?action=list" redirect="true" />
		</action>

		<!--공지사항 글 삭제 처리 -->
		<action path="/admin_notice/delete"
			type="com.funshop.admin.actions.Notice_DeleteAction">
			<forward name="check"
				path="/admin_notice/noticeList.do?action=list" redirect="true" />
		</action>

		<!--회원정보 관리 목록 -->
		<action path="/admin_member/memberList"
			type="com.funshop.admin.actions.Member_Action">
			<forward name="list" path="/admin_member/member_listForm.jsp"></forward>
			<forward name="admin_list"
				path="/admin_member/memberList.do?action=list" redirect="true"></forward>
		</action>

		<!--회원정보 관리 수정폼 보이기 -->
		<action path="/admin_member/memberEdit"
			type="com.funshop.admin.actions.Member_UpdateFormAction">
			<forward name="editForm"
				path="/admin_member/member_editForm.jsp" />
		</action>

		<!--회원관리 수정폼 처리 -->
		<action path="/admin_member/update"
			type="com.funshop.admin.actions.Member_UpdateAction">
			<forward name="memberList"
				path="/admin_member/memberList.do?action=list" redirect="true" />
		</action>

		<!--회원관리 글 삭제 처리 -->
		<action path="/admin_member/delete"
			type="com.funshop.admin.actions.Member_DeleteAction">
			<forward name="check"
				path="/admin_member/memberList.do?action=list" redirect="true" />
		</action>

		<!--매출 (구매금액-할인금액) -->
		<!-- <action path="/admin_sales/sales" forward="/admin_sales/sales_listForm.jsp"> 
			</action> -->
		<action path="/admin_sales/sales"
			type="com.funshop.admin.actions.Sales_Action">
			<forward name="null" path="/admin_sales/sales_listForm.jsp"></forward>
		</action>

		<!--공지사항(사용자) 목록 -->
		<action path="/userNotice/userNotice"
			type="com.funshop.admin.actions.Notice_Action">
			<forward name="list" path="/userNotice/notice.jsp"></forward>
			<!-- <forward name="insert"
				path="/userNotice/userNotice.do?action=list" redirect="true"></forward> -->
		</action>

<!-- 	<action path="/userNotice/userNotice"
			forward="/userNotice/notice.jsp">
		</action> -->





		<!-- 상품등록 -->
		<action path="/adminPage/regProductForm"
			forward="/adminPage/regProductForm.jsp" />

		<action path="/adminPage/regProductAction"
			type="com.funshop.admin.actions.RegProductAction">

			<forward path="/adminPage/regProductResult.jsp" name="result"
				redirect="true" />
		</action>




		<!--합치기 -->
		<!-- 로그인 -->
		<action path="/login" type="com.encore.funshop.actions.LoginAction">
			<forward path="/user/login.jsp" name="loginForm" />
			<forward path="/user/logout.jsp" name="logout" />
			<forward path="/user/index.jsp" name="login" />
			<forward path="/user/selectIdPw.jsp" name="selectForm" />
			<forward path="/user/resultIdPW.jsp" name="selectIdPw" />
			<forward path="/mainPage/main.do" name="loginSuccess"
				redirect="true" />
		</action>

		<!-- 마이페이지 타일즈 -->
		<action path="/myPage/main" forward=".myPageMain" />
		<action path="/myPage/basket" forward=".basket" />
		<action path="/myPage/regBuy" forward=".regBuy" />
		<action path="/myPage/point" forward=".point" />
		<action path="/myPage/userInfo" forward=".userInfo" />
		<action path="/myPage/asking" forward=".asking" />

		<!-- 구매내역 -->
		<action path="/myPage/buyHistory"
			forward="/myPage/buyHistory.jsp" />
		<action path="/myPage/buyHistoryResult"
			type="com.encore.funshop.actions.BuyHistoryAction">
			<forward name="result" path="/myPage/buyHistoryResult.jsp" />
		</action>

		<!-- 장바구니 -->
		<action path="/myPage/basketResult"
			type="com.encore.funshop.actions.BasketAction">
			<forward name="result" path="/myPage/basket.jsp" />
		</action>

		<!-- 정기구매 -->
		<action path="/myPage/regBuyResult"
			type="com.encore.funshop.actions.RegBuyAction">
			<forward name="result" path="/myPage/regBuy.jsp" />
		</action>

		<!-- 포인트관리 -->
		<action path="/myPage/pointResult"
			type="com.encore.funshop.actions.PointAction">
			<forward name="result" path="/myPage/point.jsp" />
		</action>

		<!-- 개인정보변경 -->
		<action path="/myPage/userInfoResult"
			type="com.encore.funshop.actions.MyInfoAction">
			<forward name="result" path="/myPage/myInfo.jsp" />
		</action>

		<!-- 실시간문의 -->
		<action path="/myPage/askingView" forward="/myPage/asking.jsp" />
		<action path="/myPage/askingAction"
			type="com.encore.funshop.actions.AskingAction">
			<forward name="list" path="/myPage/askingResult.jsp" />
		</action>

		<!-- 상품등록 -->
		<action path="/adminPage/regProductForm"
			forward="/adminPage/regProductForm.jsp" />
		<action path="/adminPage/regProductAction"
			type="com.encore.funshop.actions.RegProductAction">
			<forward name="result" path="/adminPage/regProductResult.jsp"
				redirect="true" />
		</action>

		<!-- 회원가입 -->
		<action path="/userinput"
			type="com.encore.funshop.actions.UserInfoAction">
			<forward name="input" path="/user/userinput.jsp" />
			<forward name="success" path="/user/userprocess.jsp" />
			<forward name="fail" path="/user/fail.jsp" />
			<forward name="idCheck" path="/user/idCheck.jsp" />
			<forward name="idResult" path="/user/idResult.jsp" />
		</action>

		<!-- 타일즈 액션 정의(tiles-defs.xml안의 definition태그 수 만큼) -->
		<action path="/mainPage/main" forward=".main" />
		<action path="/mainPage/review" forward=".review" />
		<action path="/mainPage/review_write" forward=".review_write" />
		<action path="/mainPage/mainDetail" forward=".mainDetail" />
		<action path="/mainPage/buyhis" forward=".buyhis" />

		<!-- 메인폼 액션 정의 -->
		<action path="/mainPage"
			type="com.encore.funshop.actions.MainAction">
			<forward name="main" path="/mainPage/base.jsp"></forward>
			<forward name="search" path="/mainPage/mainSearch.jsp"></forward>
			<forward name="image" path="/mainPage/resultjsp/getImage.jsp"></forward>
			<forward name="detail" path="/mainPage/mainDetail.do"></forward>
			<forward name="type" path="/mainPage/resultjsp/type.jsp"></forward>
			<forward name="typeList"
				path="/mainPage/resultjsp/typeList.jsp"></forward>
		</action>
	</action-mappings>

	<controller
		processorClass="com.encore.control.MyRequestProcessor">
		<!-- <set-property property="nocache" value="true"/> -->
	</controller>


	<!-- ======================================== Message Resources Definitions -->

	<!-- <message-resources parameter="MessageResources" /> -->
	<message-resources parameter="resources.application"></message-resources>

	<!-- =============================================== Plug Ins Configuration -->

	<!-- ======================================================= Tiles plugin -->



	<!-- =================================================== Validator plugin -->

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/config/tiles-defs.xml" />
		<set-property property="definitions-debug" value="2" />
		<set-property property="definitions-parser-details"
			value="2" />
		<set-property property="definitions-parser-validate"
			value="true" />
	</plug-in>


	<plug-in
		className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/org/apache/struts/validator/validator-rules.xml,
               /WEB-INF/validation.xml" />
	</plug-in>

</struts-config>

